<!DOCTYPE html>
<html>
<head><title>사물함 비밀번호 설정</title>
<link rel="stylesheet" type="text/css" href="style-size.css"/>
<link rel="stylesheet" type="text/css" href="style-layout.css"/>
<link rel="stylesheet" type="text/css" href="style-presentation.css"/>
<script type="text/javascript">
    function saveLockerPassword() {
        var lockerPassword = document.getElementById('lockerPasswordInput').value;
        if(lockerPassword && lockerPassword.length === 4) {
            var currentUserId = sessionStorage.getItem('currentUser');
            localStorage.setItem(currentUserId + '_lockerPassword', lockerPassword);
            updateLockerStatus(); // 부모 창의 사물함 상태 업데이트
            document.getElementById('lockerModal').style.display = 'none'; // 모달 숨기기
        } else {
            alert('4자리 숫자를 입력해주세요.');
        }
    }
</script>
</head>
<body id="lockerModal">
    <div class="lockerPopup">
    <h3>사물함 등록</h3>
    <input id="lockerPasswordInput" type="text" maxlength="4" placeholder="4자리 비밀번호" pattern="\d{4}" required>
    <button onclick="saveLockerPassword();">등록</button>
    </div>
</body>
</html>

